<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js webgl - buffergeometry [particles]</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>
		*{
			margin: 0;
		}
		</style>
	</head>
	<body onLoad=go()>
		<script src="../js/three81.js"></script>
		<script>
		var renderer,camera,scene,cube,geometry,material
		var wiW=window.innerWidth
		var wiH=window.innerHeight

		function init(){
			scene=new THREE.Scene()

			camera=new THREE.PerspectiveCamera(45,wiW/wiH,0.1,2000)
			camera.position.set(0,0,250)

			renderer=new THREE.WebGLRenderer()
			renderer.setSize(wiW,wiH)
			renderer.setClearColor('rgb(100,200,255)')
			document.body.appendChild(renderer.domElement)

		 var texture=new THREE.TextureLoader().load('../image/yun.png')


			geometry=[
			new THREE.Geometry(),
			new THREE.BoxGeometry(2,2,2)
			]

			material=[
			new THREE.MeshBasicMaterial({}),
			new THREE.MeshNormalMaterial({}),
			new THREE.PointsMaterial({size:35,transparent:true,depthWrite:false,map:texture})
			]
			

			for(var i=0;i<3000;i++){
				geometry[0].vertices.push(new THREE.Vector3(Math.floor(Math.random()*300-150),Math.floor(Math.random()*100-50),Math.floor(Math.random()*500-250)))
			}
			
			cube=new THREE.Points(geometry[0],material[2])
			scene.add(cube)

		}

		function render(){
			camera.position.z-=0.5
			renderer.render(scene,camera)
			requestAnimationFrame(render)
		}

		function go(){
			init()
			render()
		}

		function reSize(){
			wiW=window.innerWidth
			wiH=window.innerHeight
			camera.aspect=wiW/wiH
			camera.updateProjectionMatrix()
			renderer.setSize(wiW,wiH)
		}
		window.addEventListener('resize',reSize)
		</script>

	</body>
</html
